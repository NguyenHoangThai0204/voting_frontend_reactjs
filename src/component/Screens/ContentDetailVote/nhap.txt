Cháº¯c cháº¯n rá»“i! DÆ°á»›i Ä‘Ã¢y lÃ  nhá»¯ng chá»— mÃ¬nh Ä‘Ã£ thÃªm vÃ o Ä‘oáº¡n mÃ£ cá»§a báº¡n Ä‘á»ƒ cho phÃ©p ngÆ°á»i dÃ¹ng vote khi click vÃ o má»™t option:

1. Import hÃ m createVote tá»« CallApi:
JavaScript

import { getVoteById, createVote } from "../../../api/CallApi"; // Giáº£ sá»­ báº¡n cÃ³ hÃ m createVote trong CallApi
AI-generated code. Review and use carefully. More info on FAQ.
2. ThÃªm hÃ m handleVote Ä‘á»ƒ gá»­i yÃªu cáº§u POST khi ngÆ°á»i dÃ¹ng click vÃ o má»™t option:
JavaScript

const handleVote = async (optionId: string) => {
    try {
        const userId = "66cbc96d367aa89344e6c0d9"; // Giáº£ sá»­ báº¡n cÃ³ userId tá»« Ä‘Ã¢u Ä‘Ã³
        const response = await createVote({
            pollId: id,
            optionId: optionId,
            userId: userId,
            timestamp: new Date().toISOString()
        });
        console.log('Vote success:', response.data);
    } catch (error) {
        console.error('Error voting:', error);
    }
}
AI-generated code. Review and use carefully. More info on FAQ.
3. ThÃªm sá»± kiá»‡n onClick vÃ o má»—i TextField cá»§a option:
JavaScript

<TextField
    className="text_namechoice"
    variant="outlined"
    placeholder={`Choice ${index + 1}`}
    value={select.contentOption || ''}
    inputProps={{ readOnly: true }} 
    onClick={() => handleVote(select._id)} // ThÃªm sá»± kiá»‡n onClick Ä‘á»ƒ vote
    InputProps={{
        endAdornment: (
            <InputAdornment position="end">
                <IconButton
                    edge="end"
                    aria-label="add description"
                    onClick={() => toggleDescriptionInput(index)}
                >
                    <DescriptionIcon />
                </IconButton>
                <IconButton
                    edge="end"
                    aria-label="remove choice"
                    onClick={() => handleDeleteChoice(index)}
                >
                    <CloseIcon />
                </IconButton>
            </InputAdornment>
        )
    }}
/>
AI-generated code. Review and use carefully. More info on FAQ.
Tá»•ng há»£p láº¡i:
Import hÃ m createVote tá»« CallApi.
ThÃªm hÃ m handleVote Ä‘á»ƒ gá»­i yÃªu cáº§u POST khi ngÆ°á»i dÃ¹ng click vÃ o má»™t option.
ThÃªm sá»± kiá»‡n onClick vÃ o má»—i TextField cá»§a option Ä‘á»ƒ gá»i hÃ m handleVote.
Náº¿u báº¡n cáº§n thÃªm há»— trá»£ hoáº·c cÃ³ cÃ¢u há»i nÃ o khÃ¡c, hÃ£y cho mÃ¬nh biáº¿t nhÃ©! ğŸš€ğŸ˜Š